            
<script>

/* ============================
   DADOS INICIAIS
============================ */

let alunos = ["João", "Maria", "Pedro", "Ana", "Carlos", "Beatriz"];
let frequencia = [[], [], [], [], [], []];
let totalDias = 20;


/* ============================
   1. VALIDAR ENTRADA (P/F)
============================ */

function validarEntrada(input) {
    input = input.trim().toUpperCase();

    while (input !== "P" && input !== "F") {
        input = prompt(`Informe "P" para presente ou "F" para falta:`)
                .trim()
                .toUpperCase();
    }

    return input;
}


/* ============================
   2. REGISTRAR FREQUÊNCIA
============================ */

function registrarFrequencia(alunos, frequencia, totalDias) {

    for (let i = 0; i < alunos.length; i++) {

        for (let dia = 1; dia <= totalDias; dia++) {

            let entrada = prompt(`Aluno: ${alunos[i]} - Dia ${dia}. Digite "P" ou "F":`);
            let resultado = validarEntrada(entrada);

            frequencia[i].push(resultado);
        }
    }
}


/* ============================
   3. CALCULAR PERCENTUAIS
============================ */

function calcularPercentuais(frequencia, totalDias) {
    let percentuais = [];

    for (let i = 0; i < frequencia.length; i++) {
        let presencas = 0;

        for (let j = 0; j < frequencia[i].length; j++) {
            if (frequencia[i][j] === "P") {
                presencas++;
            }
        }

        let percentual = (presencas / totalDias) * 100;
        percentuais.push(percentual);
    }

    return percentuais;
}


/* ============================
   4. LISTAR ALUNOS EM RISCO
============================ */

function listarAlunosEmRisco(alunos, percentuais) {
    let risco = [];

    for (let i = 0; i < alunos.length; i++) {
        if (percentuais[i] < 60) {
            risco.push(alunos[i]);
        }
    }

    return risco;
}


/* ============================
   5. ADICIONAR / REMOVER ALUNOS
============================ */

function adicionarAluno(alunos, frequencia, nome) {
    alunos.push(nome);
    frequencia.push([]);
}

function removerAluno(alunos, frequencia, nome) {
    let indice = alunos.indexOf(nome);

    if (indice !== -1) {
        alunos.splice(indice, 1);
        frequencia.splice(indice, 1);
    } else {
        alert("Aluno não encontrado!");
    }
}


/* ============================
   6. GERAR RELATÓRIO COMPLETO
============================ */
function gerarRelatorio() {
  alinharEstruturas();

  const linhas = [];
  linhas.push("RELATÓRIO DE FREQUÊNCIA");
  linhas.push("---------------------------------------------------------");

  for (let i = 0; i < alunos.length; i++) {
    const { presentes, ausentes, percentual } = calcularPercentual(i);
    const percFmt = `${percentual.toFixed(2)}%`;
    const classificacao = percentual < 60 ? "RISCO (<60%)" : "OK";
    linhas.push(
      `Aluno: ${alunos[i]} | Presentes: ${presentes} | Ausentes: ${ausentes} | Percentual: ${percFmt} | Classificação: ${classificacao}`
    );
  }

  linhas.push("---------------------------------------------------------");

  const risco = listarAlunosEmRisco();
  if (risco.length > 0) {
    linhas.push("ALUNOS EM RISCO DE REPROVAÇÃO POR FALTA:");
    risco.forEach(r =>
      linhas.push(`- ${r.nome}: ${r.percentual.toFixed(2)}%`)
    );
  } else {
    linhas.push("Nenhum aluno com frequência abaixo de 60%.");
  }

  console.log(linhas.join("\n"));
  alert("Relatório gerado no console.");
}



       

